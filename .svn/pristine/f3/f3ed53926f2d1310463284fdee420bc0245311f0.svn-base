<%@page contentType="text/html" pageEncoding="UTF-8"%>
<%@taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<%@taglib prefix="t" tagdir="/WEB-INF/tags"%>

<t:main>

	<script src="${pageContext.request.contextPath}/resources/js/moment.js" type="text/javascript"></script>
	<script src="${pageContext.request.contextPath}/resources/js/moment-fr.js" type="text/javascript"></script>
	<script src="${pageContext.request.contextPath}/resources/js/bootstrap-combobox.js" type="text/javascript"></script>
	<link rel="stylesheet" href="${pageContext.request.contextPath}/resources/css/bootstrap-combobox.css" type="text/css">

	<script type="text/javascript">	
	$(function() {
		$(document).ready(function() {
			$('.combobox').combobox();
		});		
	});
	</script>
	
	<div class="row">
		<div class="col-sm-10 col-md-10 col-lg-10">
			<h1>Créer une équipe</h1><br>
			<c:if test="${ !empty errorMsg }">
            	<div class="alert alert-danger" role="alert">${errorMsg}</div>       
            </c:if> 
			<form method="post" action="CreateTeam">
				<label style="font-size:20px">Sélectionnez le client</label>
				<div class="form-group">
					<select class="combobox input-large form-control" name="idClient" required>
						<c:forEach items="${clients}" var="client">
							<option></option>
							<option value="${client.getId()}"><c:out value="${client.getLastName()} ${client.getFirstName()}"/></option>
						</c:forEach>
					</select>
				</div><br>
				<label style="font-size:20px">Sélectionnez le chef d'équipe</label>
				<div class="form-group">
					<select class="combobox input-large form-control" name="idTeamLeader" required>
						<c:forEach items="${students}" var="student">
							<option></option>
							<option value="${student.getId()}"><c:out value="${student.getLastName()} ${student.getFirstName()}"/></option>
						</c:forEach>
					</select>
				</div><br>
				<div class="input-group input-group-lg">
					<span class="input-group-addon" id="sizing-addon1">Nom d'équipe</span> 
					<input type="text" class="form-control" name="teamName" aria-describedby="sizing-addon1" placeholder="Nom d'équipe" required>
				</div><br>
				<div class="input-group input-group-lg">
					<span class="input-group-addon" id="sizing-addon1">Solde initial accordé en euros</span> 
					<input type="text" class="form-control" name="balance" aria-describedby="sizing-addon1" placeholder="0.00" required>
				</div><br><br>
				<button name="idSession" value="${idSession}" class="btn btn-lg btn-primary pull-left" type="submit">Créer l'équipe</button>		
			</form><br><br><br>
			<form method="get" action="ManageTeams">
				<button class="btn btn-lg btn-primary pull-left" name="idSession" value="${idSession}" type="submit">Revenir à la gestion des équipes</button>
			</form>							
		</div>
	</div>
</t:main>